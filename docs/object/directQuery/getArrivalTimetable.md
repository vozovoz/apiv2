# <a name="up"/>Vozovoz API ver.2.0

[Главная страница](/README.md) > [Объекты](../index.md) > [Прямой запрос](../directQuery.md) > Расписание дат получения груза

> **Код объекта: `directQuery`**
> **Код метода: `getArrivalTimetable`**


## Содержание

* [Примеры](#example)
* [Описание](#description)

## <a name="example"/>Примеры

**Запрос**
```javascript
// полное оформление кода на javascript для использования в консоли см. в разделе "Быстрый старт"
xhttp.send(JSON.stringify(
{
  "object": "directQuery",
  "action": "get",
  "params": {
    "method": "getArrivalTimetable",
    "data": {
      "from": { // пункт отправки
        "locationId": "f2a30387-0124-11e5-80c7-00155d903d03", // уникальный внутренний ID локации, если от адреса
        // или
        // "terminalId": "99999894-3673-11e5-80cd-00155d903d03", // если от терминала
        "dates": { // объект даты обязателен, если от адреса
          "to": "2017-06-06T18:00:00Z" // нижняя граница даты и времени отправки
        }
      },
      "to": { // пункт получения
        "locationId": "e90f1820-0128-11e5-80c7-00155d903d03" // уникальный внутренний ID локации, если до адреса
        // или
        // "terminalId": "30b8e091-3c6b-11e6-80e9-00155d903d0a" // если до терминала
      }
    }
  }
}));
```

<a name="response-example"/>**Ответ**

```javascript
{
  /* если от адреса до адреса */
  "response": {
    "locationId": "e90f1820-0128-11e5-80c7-00155d903d03",
    "dates": [
      {
        "from": "2017-06-08T14:00:00Z", // верхняя граница диапазона доставки
        "to": "2017-06-08T19:00:00Z", // нижняя граница диапазона доставки
        "courierArrivalTimeMinInterval": 5 // минимальный интервал диапазона
      },
      {
        "from": "2017-06-09T09:00:00Z",
        "to": "2017-06-09T19:00:00Z",
        "courierArrivalTimeMinInterval": 5
      }
    ]
  }
  /* если от адреса до терминала */
  "response": {
    "terminalId": "30b8e091-3c6b-11e6-80e9-00155d903d0a",
    "dates": [
      {
        "from": "2017-06-08T14:00:00Z", // верхняя граница диапазона доставки
        "to": "2017-06-08T23:59:00Z" // нижняя граница диапазона доставки
      },
      {
        "from": "2017-06-09T00:01:00Z",
        "to": "2017-06-09T23:59:00Z"
      },
      {
        "from": "2017-06-10T00:01:00Z",
        "to": "2017-06-10T23:59:00Z"
      }
    ]
  }
  /* если от терминала до терминала */
  "response": {
    "terminalId": "30b8e091-3c6b-11e6-80e9-00155d903d0a",
    "dates": [
      {
        "from": "2017-06-07T14:00:00Z",
        "to": "2017-06-07T23:59:00Z"
      },
      {
        "from": "2017-06-08T00:01:00Z",
        "to": "2017-06-08T23:59:00Z"
      },
      {
        "from": "2017-06-09T00:01:00Z",
        "to": "2017-06-09T23:59:00Z"
      }
    ]
  }
  /* если от терминала до адреса */
  "response": {
    "locationId": "e90f1820-0128-11e5-80c7-00155d903d03",
    "dates": [
      {
        "from": "2017-06-07T14:00:00Z",
        "to": "2017-06-07T19:00:00Z",
        "courierArrivalTimeMinInterval": 5
      },
      {
        "from": "2017-06-08T09:00:00Z",
        "to": "2017-06-08T19:00:00Z",
        "courierArrivalTimeMinInterval": 5
      },
      {
        "from": "2017-06-09T09:00:00Z",
        "to": "2017-06-09T19:00:00Z",
        "courierArrivalTimeMinInterval": 5
      }
    ]
  }
}
```


## <a name="description"/>Описание
Объект [прямого запроса](../directQuery.md) с использованием метода `getArrivalTimetable` возвращает расписание
доступных дат доставки груза.


### Данные запроса

| Структура     | Тип | Описание |
| ---------     | --- | -------- |
| Обязательные
| `method`      | string | Название метода, которое необходимо выполнить. Должен быть `getArrivalTimetable` |
| Необязательные
| `data`        | object | Данные, необходимые для работы вызываемого метода. См. ниже |

>Узел `data` должен содержать:
>* `from` (объект) - пункт отправки
>* `to` (объект) - пункт доставки
>
>Каждый из этих узлов может содержать:
>* `locationId` (строка) - уникальный внутренний ID населённого пункта (локации)
>или
>* `terminalId` (строка) - уникальный внутренний ID терминала
>а также узел `from` может содержать:
>* `dates` (объект) с узлом `to` - нижняя граница диапазона отправки. Обязателен, если отправка от адреса


### Данные ответа

> Данные ответа описаны в виде комментариев в [примере выше](#response-example).


***
[▲ Наверх](#up)