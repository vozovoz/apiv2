# <a name="up"/>Vozovoz API 2.0

[Главная страница](/README.md) > [Объекты](index.md) > Локация

> **Код объекта: `location`**


## Содержание

* [Примеры](#example)
* [Описание](#description)


## <a name="example"/>Примеры

* [Пример запроса списка локаций со смещением и ограничением](#limit-offset)
* [Пример запроса информации по конкретной локации](#guid)
* [Пример запроса списка локаций по названию локации](#search)

### <a name="limit-offset"/>Пример запроса со смещением и ограничением

**Пример запроса на JavaScript**
```javascript
// полное оформление кода на javascript для использования в консоли см. в разделе "Быстрый старт"
xhttp.send(JSON.stringify(
{
  "object": "location",
  "action": "get",
  "params": {
    "offset": 12,
    "limit": 2
  }
}
```

**Пример ответа**
```javascript
{
  "response": {
    "data": [
      {
        "guid": "c3b30743-0125-11e5-80c7-00155d903d03",  // уникальный внутренний ID локации
        "name": "Волгоград", // название населённого пункта
        "type": "г", // тип населённого пункта
        "region_str": "Волгоградская обл", // региональная информация
        "default_terminal": { // терминал по умолчанию
          "guid": "09c9e60a-c8c7-11e4-80bf-00155d903d03", // уникальный внутренний ID терминала
          "name": "Домостроителей ул. 13" // информация по терминалу
        }
      },
      {
        "guid": "c9ace063-0125-11e5-80c7-00155d903d03",
        "name": "Вологда",
        "type": "г",
        "region_str": "Вологодская обл",
        "default_terminal": {
          "guid": "747266e9-9a8c-11e6-80f4-00155d903d0c",
          "name": "Пошехонское ш.18"
        }
      }
    ],
    "meta": { // meta данные
      "limit": 2, // заданное ограничение
      "offset": 12, // заданное смещение
      "total": 33165 // всего записей
    }
  }
}
```

### <a name="guid"/>Пример запроса информации по конкретной локации

**Пример запроса на JavaScript**
```javascript
// полное оформление кода на javascript для использования в консоли см. в разделе "Быстрый старт"
xhttp.send(JSON.stringify(
{
  "object": "location",
  "action": "get",
  "params": {
    "id": "e90f19de-0128-11e5-80c7-00155d903d03" // уникальный внутренний ID локации
    // также можно осуществить поиск по названию населённого пункта, см. пример ниже
  }
}
```

**Пример ответа**
```javascript
{
  "response": {
    "data": [
      {
        "guid": "e90f19de-0128-11e5-80c7-00155d903d03", // уникальный внутренний ID локации
        "name": "Санкт-Петербург", // название населённого пункта
        "type": "г", // тип населённого пункта
        "region_str": "Город федерального значения", // региональная информация
        "default_terminal": { // терминал по умолчанию
          "guid": "0482c0d9-99b8-11e5-80d3-00155d903d03", // уникальный внутренний ID терминала
          "name": "Народная ул., у дома 65 (Союзпечать 2406)" // информация по терминалу
        }
      }
    ],
    "meta": { // meta данные
      "limit": 100, // заданное ограничение
      "offset": 0, // заданное смещение
      "total": 33165 // всего записей
    }
  }
}
```


### <a name="search"/>Пример запроса списка локаций по названию локации

**Пример запроса на JavaScript**
```javascript
// полное оформление кода на javascript для использования в консоли см. в разделе "Быстрый старт"
xhttp.send(JSON.stringify(
{
  "object": "location",
  "action": "get",
  "params": {
    "search": "Киров, Калужская область", // можно указывать так
    "offset": 0, // необязательно, просто для примера
    "limit": 3 // необязательно, просто для примера
  }
}
```

**Пример ответа**
```javascript
{
  // результаты будут отсортированы по релевантности
  "response": {
    "data": [
      {
        "guid": "3b22856a-0126-11e5-80c7-00155d903d03", // уникальный внутренний ID локации
        "name": "Киров", // название населённого пункта
        "type": "г", // тип населённого пункта
        "region_str": "Калужская обл, Кировский р-н" // региональная информация
      },
      {
        "guid": "b1633010-0126-11e5-80c7-00155d903d03",
        "name": "Кировск",
        "type": "г",
        "region_str": "Кировский р-н, Ленинградская обл"
      },
      {
        "guid": "f5006d71-0128-11e5-80c7-00155d903d03",
        "name": "Кировское",
        "type": "пгт",
        "region_str": "Крым Респ, Кировский р-н"
      }
    ]
  },
  "meta": {
    "limit": 3,
    "offset": 0,
    "total": 33165
  }
}
```

## <a name="description"/>Описание

Это любой населённый пункт (город, деревня, поселок и др.). Запросить можно как отдельную локацию, так и список.


### Данные запроса

> Все данные запроса являются необязательными, т.е. могут отсутствовать. Если ничего не передано, результатом
> будет список из первых 100 локаций, отсортированных по индексу приоритетности, а затем по наименованию.

| Структура     | Тип       | Описание |
| ---------     | ---       | -------- |
| `id`          | string    | Строка с уникальным внутренним ID локации |
| `limit`       | integer   | Ограничение количества возвращаемых результатов |
| `offset`      | integer   | Смещение количества возвращаемых результатов |
| `search`      | string    | Строка, в которой указан населённый пункт. Узел взаимоисключается с узлом `id` |
| `hasTerminals`| boolean   | Определяет доп.фильтр для выборки. Если `true`, будут возвращены в ответе исключительно локации, имеющие терминал(-ы). Если `false` - исключительно локации, не имеющие терминала(-ов) |


### Данные ответа

| Название      | Тип       | Описание |
| --------      | ---       | -------- |
| `guid`        | string    | Строка с уникальным внутренним ID локации |
| `name`        | string    | Наименование населённого пункта |
| `region_str`  | string    | Информация по региону населённого пункта (область, район и т.п.) |
| `type`        | string    | Сокращенный тип населённого пункта |
| `default_terminal`<br/>-`guid`<br/>-`name` | array<br/>- string<br/>- string | Если у локации есть терминал(-ы), содержит данные терминала по умолчанию<br/>- уникальный внутренний ID терминала<br/>- информация по терминалу |


***
[▲ Наверх](#up)