# <a name="up"/>Vozovoz API 2.0

[Главная страница](/README.md) > [Структуры данных запроса](index.md) > Груз

## Содержание

* [Описание структуры данных](#struct)
    * [Структура `cargo` ("Груз")](#cargo)
        * [Субструктура `dimension` ("Габариты")](#dimension)
            * [Субструктура `max` ("Максимальные габариты")](#max)
        * [Субструктура `wrapping` ("Упаковка")](#wrapping)
* [Примеры](#example)


## <a name="struct"/>Описание структуры данных

>В данной документации для упрощения понимания **_структурами_** называются все данные, которые содержат какие-либо данные
>(как другие структуры, так и простые типы данных: строка, число, логический тип).
>Под ["параметрами"](../params/index.md) мы понимаем необходимый **полный** массив данных, что передаётся нашему серверу
>для получения определённого ответа. Приведённые структуры указываются внутри [POST-параметра](../params/post.md) `params`.


### <a name="cargo"/>Структура данных `cargo` ("Груз")

| Название                  | Тип       | Описание                                                                                                                                                                                                        |
|---------------------------| ---       |-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `category`                | string    | Должен содержать уникальный идентификатор категории груза. _Необязательный параметр. (Используется только при действиях с заказом)_                                                                             |
| `correspondence`          | boolean | Содержит ли груз корреспонденцию. _Необязательный параметр. По умолчанию выключен_                                                                                                                              |
| [`dimension`](#dimension) | object | Должен содержать структуру для уточнения габаритов груза. Может отсутствовать, если указан `"correspondence": true`                                                                                             |
| `insurance`               | integer   | Содержит объявленную стоимость для страхования груза в рублях. _Необязательный параметр_                                                                                                                        |
| `insuranceNdv`            | boolean  | Флаг для переключения страхования без объявленной стоимости. Автоматически выключается при использовании страховки с объявленной стоимостью, в противном случае обязательна для плательщика - юридического лица |
| [`wizard`](#wizard)       | object | Содержит построковое описание мест груза (заменяет `dimension`)                                                                                                                                                 |                                                                                                                                      |
| [`wrapping`](#wrapping)   | object | Должен содержать структуру для уточнения количества и/или объёма упаковок. _Необязательный параметр_                                                                                                            |

Пример

```javascript
{
  "category": "12345678-1234-1234-1234-1234567890ab",
  "correspondence": true,
  "dimension": { /* подробнее в структуре "Габариты" */ },
  "insurance": 6500,
  "wrapping": { /* подробнее в структуре "Упаковка" */ }
}
```


### <a name="dimension"/>Субструктура данных `dimension` ("Габариты")

>Все габариты указываются как и на сайте: объём в кубических метрах, вес в килограммах.

| Название      | Тип       | Описание |
| --------      | ---       | -------- |
| [`max`](#max) | object    | Структура, определяющая максимальные габариты одного места. Обязательна для указания, если груз является не габаритным или не указаны общие габариты |
| `quantity`    | integer   | Целочисленное число, отвечающее за **количество мест**. _Необязательный параметр. По умолчанию равен **1** (шт.)_ |
| `volume`      | float     | Дробное число, отвечающее за **общий объём** груза. _Необязательный парамер, если указаны максимальные габариты (м<sup>3</sup>)_ |
| `weight`      | float     | Дробное число, отвечающее за **общий вес** груза. _Необязательный парамер, если указаны максимальные габариты (кг)_ |

Пример

```javascript
{
  "max": {
    "height": 0.2,
    "length": 0.4,
    "weight": 12.4,
    "width": 0.1
  },
  "quantity": 2,
  "volume": 0.01,
  "weight": 12.4 // общий вес не может быть меньше максимального веса одного места
}
```

### <a name="max"/>Субструктура данных `max` ("Максимальные габариты одного места")

| Название      | Тип       | Описание                                                              |
| --------      | ---       |-----------------------------------------------------------------------|
| `length`      | float     | Максимальная длина одного места из всех имеющихся в грузе мест _(м)_ |
| `height`      | float     | Максимальная высота одного места из всех имеющихся в грузе мест _(м)_                        |
| `weight`      | float     | Максимальный вес одного места из всех имеющихся в грузе мест _(кг)_                          |
| `width`       | float     | Максимальная ширина одного места из всех имеющихся в грузе мест _(м)_                        |

Пример

```javascript
{
  "height": 0.2,
  "length": 0.4,
  "weight": 12.4,
  "width": 0.1
}
```

### <a name="wrapping"/>Cубструктура данных `wizard` ("Ввод груза по местам")

Пример

```json
{
  "wizard": [
    {
      "length": 0.3,
      "width": 0.2,
      "height": 0.1,
      "quantity": 2,
      "weight": 10,
      "wrapping": {  // только объёмная упаковка
          "bubbleFilmVolume": 0.5
      }
    },
    {
      "length": 0.5,
      "width": 0.1,
      "height": 0.5,
      "quantity": 3,
      "weight": 8,
      "wrapping": {} // только объёмная упаковка
    }
  ]
}
```

### <a name="wrapping"/>Cубструктура данных `wrapping` ("Упаковка")

> Про коды упаковок более подробно в объекте ["Упаковка"](../object/wrapping.md).

Пример

```javascript
"wrapping": {
  box1: 2, // 2 шт. коробки под кодом box1
  bubbleFilmVolume: 0.5, // 0.5м3 - объём воздушно-пузырьковой плёнки, необходимый для упаковки
}
```

## <a name="example"/>Примеры

```javascript
// полное оформление кода на javascript для использования в консоли см. в разделе "Быстрый старт"
xhttp.send(JSON.stringify(
{
  "object": "price",
  "action": "get",
  "params": {
    "cargo" : {
      "dimension": { // габариты
        "max": {
          "length": 0.1, // макс. длина одного места
          "height": 0.1, // макс. высота одного места
          "weight": 0.9, // макс. вес одного места
          "width": 0.1 // макс. ширина одного места
        },
        "quantity": 1, // количество мест
        "volume": 0.01, // общий объем
        "weight": 0.9 // общий вес
      }
    },
    "gateway": {
      "dispatch": { // откуда
        "point": {
          "location": "Санкт-Петербург",
          "terminal": "default" // терминал по умолчанию
        }
      },
      "destination": { // куда
        "point": {
          "location": "Москва",
          "terminal": "default" // терминал по умолчанию
        }
      }
    }
  }
}));
```

```javascript
xhttp.send(JSON.stringify(
{
  "object": "price",
  "action": "get",
  "params": {
    "cargo" : {
      "wizard": [
        { // место 1
          "length": 0.3, // длина места
          "width": 0.2, // ширина места
          "height": 0.1, // высота места
          "quantity": 2, // количество подобных мест,
          // т.е. если габариты совпадают, здесь можно указать кол-во этих мест
          "weight": 10, // вес места
          "wrapping": {  // только объёмная упаковка
            "bubbleFilmVolume": 0.5
          }
        },
        { // место 2 (c другими габаритами)
          "length": 0.5,
          "width": 0.1,
          "height": 0.5,
          "quantity": 3,
          "weight": 8,
          "wrapping": {} // только объёмная упаковка
        }
      ]
    },
    "gateway": {
      "dispatch": { // откуда
        "point": {
          "location": "Санкт-Петербург",
          "terminal": "default" // терминал по умолчанию
        }
      },
      "destination": { // куда
        "point": {
          "location": "Москва",
          "terminal": "default" // терминал по умолчанию
        }
      }
    }
  }
}));
```

***
[▲ Наверх](#up)