# <a name="up"/>Vozovoz API 2.0

[Главная страница](/README.md) > [Структуры данных запроса](index.md) > Услуги

## Содержание

* [Пример структуры](#example)
* [Описание структуры](#description)
    * [Погрузка\Разгрузка](#needLoading)
    * [Особый вид транспорта](#specLoading)
    * [Возврат сопроводительных документов](#retrieveAD)
* [Где используется](#used)

## <a name="example"/>Пример структуры

```javascript
{
  "needLoading": { // услуга "погрузка" для пункта отправления или "разгрузка" для пункта получения
    "floor": 12, // этаж, на который требуется погрузка\разгрузка
    "lift": true, // имеется ли грузовой лифт
  },
  "specificLoading": [ // услуга "Особый вид транспорта"
    'openMachine' // уникальный код вида транспорта
  ],
  "retrieveAD": { // услуга "Вернуть сопроводительные документы" (присутствует только у пункта отправления)
    "location": "Санкт-Петербург", // локация возврата, также можно указать уникальный внутренний ID локации
    "terminal": "default" // терминал, также можно указать уникальный внутренний ID терминала
    // или использовать "address": "улица, дом"
  },
  "unboxingOnDelivery" : 20 // услуга "Разбор груза при доставке до адреса"
  // значением является вес груза (кг), который предполагается разбирать
}
```

## <a name="description"/>Описание структуры

| Узел              | Тип       | Доступность               | Описание                                                                                                                 |
| ----              | ---       |---------------------------|--------------------------------------------------------------------------------------------------------------------------|
| [`needLoading`](#needLoading) | object    | Отправление и получение   | Сервис "Погрузка" для пункта отправления или "Разгрузка" для пункта получения                                            |
| [`specificLoading`](#specLoading) | array     | Отправление и получение   | Сервис "Особый вид транспорта". Передаётся как массив значений, но на данный момент может содержать только одно значение |
| [`retrieveAD`](#retrieveAD) | object    | Отправление               | Сервис "Возврат сопроводительных документов"                                                                             |
| [`scannedConsignationNote`](#scn) | boolean | Отправление               | Сканы накладной на выдачу                                                                                                |
| [`unboxingOnDelivery`](#uod) | float | Отправление или получение | Вес груза (кг) для услуги "Разбор при доставке до адреса"                                                                |

### <a name="needLoading"/>Погрузка\Разгрузка

| Узел          | Тип           | Описание |
| ----          | ---           | -------- |
| `floor`       | integer       | Этаж, на котором будут производится погрузочно-разгрузочные работы |
| `lift`        | boolean       | Есть ли в подъезде грузовой лифт. По умолчанию `false` _(лифта нет)_ |
| `used`        | boolean       | Пользоваться ли данной услугой. Можно не указывать, т.к. считается `true`, если узел `needLoading` передан в запрос |

### <a name="specLoading"/>Особый вид транспорта

Внутри массива могут быть следующие значения:

| Код           | Наименование      | Описание |
| ---           | ------------      | -------- |
| `lateralLoad` | Боковая загрузка  | При погрузо-разгрузочных работах должна быть возможность открыть кузов с боку (правого или левого) транспортного средства |
| `manipulator` | Манипулятор       | Транспортное средство должно быть оснащено подъемным краном с вылетом стрелы не менее 8 метров и грузоподъемность при таком вылете не менее 1 тонны |
| `openMachine` | Открытая машина   | Клиенту подается транспортное средство с открытым кузовом (только борта, без тента) |
| `removableCurtains` | Растентовка | При погрузо-разгрузочных работах снимается тент с кузова транспортного средства |
| `tailLift`    | Гидроборт         | Транспортное средство должно быть оснащено подъемным механизмом (лопата) грузоподъемностью не менее 500 кг |
| `topLoad`     | Верхняя загрузка  | При погрузо-разгрузочных работах должна быть возможность открыть кузов сверху транспортного средства для погрузки груза с применением подъемного крана |

> Данная услуга передаётся как массив значений, но на данный момент может содержать только одно значение для каждого пункта.

### <a name="retrieveAD"/>Возврат сопроводительных документов

>Учтите, что по умолчанию данные для этой услуги берутся из данных пункта отправления. Поэтому, если Вам не требуется менять эти значения, можно указать:
>```
>{
>  // другие услуги тут, если необходимы
>  "retrieveAD": {}
>}
>```
>Или для упрощения понимая, так:
>```
>{
>  // другие услуги тут, если необходимы
>  "retrieveAD": {
>    "used": true
>  }
>}

| Узел          | Тип           | Описание |
| ----          | ---           | -------- |
| `address`     | string        | Не должен быть указан, если возврат требуется на терминал. Должен содержать строку с необходимым адресом относительно указанной локации |
| `location`    | string        | Может быть как уникальным внутренним ID локации, так и строкой запроса, например, "Санкт-Петербург" |
| `terminal`    | string        | Не должен быть указан, если возврат требуется на адрес. Может содержать как уникальный внутренний ID терминала, так и значение `default`, для выбора терминала по умолчанию |
| `scanned`     | boolean       | Добавить ли доп.услугу "Сканы СД" |
| `used`        | boolean       | Пользоваться ли данной услугой. Можно не указывать, т.к. считается `true`, если узел `retrieveAD` передан в запрос |

> В случае одновременного указания узлов `address` и `terminal`, первоочередным считается `address`. Внимательно проверяйте структуру запроса перед отправкой!
>
> Любой из указанных узлов может быть "опущен" (не указан), значения для него будут взяты из пункта отправления `gateway.dispatch.point`

### <a name="scn"/>Сканы накладной на выдачу

>```
>{
>  "scannedConsignationNote": true
>}

| Узел          | Тип           | Описание |
| ----          | ---           | -------- |
| `scannedConsignationNote` | boolean | Пользоваться ли данной услугой |


### <a name="uod"/>Разбор груза при доставке до адреса

>```
>{
>  "unboxingOnDelivery": 16.3
>}

| Узел                 | Тип           | Описание                |
|----------------------| ---           |-------------------------|
| `unboxingOnDelivery` | float | Вес груза в килограммах |

## <a name="used"/>Где используется

| Объект        | Действие      | Описание |
| ------        | --------      | -------- |
| `order`       | `set`         | Может быть указан в узлах `gateway.dispatch` (пункт отправления) и `gateway.destination` (пункт получения) |
| `price`       | `get`         | Может быть указан в узлах `gateway.dispatch` (пункт отправления) и `gateway.destination` (пункт получения) |

***
[▲ Наверх](#up)